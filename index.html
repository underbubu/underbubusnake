
<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Snake â€“ Custom Head</title>
<style>
  body { background: #000; color: #fff; font-family: sans-serif; text-align: center; margin: 0; }
  canvas { background: #111; display: block; margin: 20px auto; image-rendering: pixelated; }
</style>
</head>
<body>
<h1>ğŸ Snake Game</h1>
<p>ë°©í–¥í‚¤(WASD)ë¡œ ì´ë™, ìŠ¤í˜ì´ìŠ¤ë¡œ ì¼ì‹œì •ì§€</p>
<canvas id="board" width="480" height="480"></canvas>
<script>
const canvas = document.getElementById('board');
const ctx = canvas.getContext('2d');
const GRID = 20, unit = canvas.width / GRID;
let snake = [], dir = {x:1,y:0}, queuedDir = {x:1,y:0}, food, alive = true;
let score = 0, paused = false;
const START_LEN = 4;
const snakeHeadImg = new Image();
snakeHeadImg.src = "snake_head.png"; // custom head

function reset(){
  snake = [];
  const cx = Math.floor(GRID/2), cy = Math.floor(GRID/2);
  for(let i=0;i<START_LEN;i++) snake.push({x: cx-i, y: cy});
  dir = {x:1,y:0}; queuedDir = dir; alive = true; score = 0;
  spawnFood();
}
function spawnFood(){
  do {
    food = { x: Math.floor(Math.random()*GRID), y: Math.floor(Math.random()*GRID) };
  } while (snake.some(s => s.x===food.x && s.y===food.y));
}
function setDir(d){ if(dir.x+d.x!==0 || dir.y+d.y!==0) queuedDir = d; }
window.addEventListener('keydown', e => {
  const k = e.key.toLowerCase();
  if(k===' ') paused = !paused;
  else if(k==='arrowleft'||k==='a') setDir({x:-1,y:0});
  else if(k==='arrowright'||k==='d') setDir({x:1,y:0});
  else if(k==='arrowup'||k==='w') setDir({x:0,y:-1});
  else if(k==='arrowdown'||k==='s') setDir({x:0,y:1});
});

function update(){
  dir = queuedDir;
  const head = { x: snake[0].x + dir.x, y: snake[0].y + dir.y };
  if(head.x<0||head.x>=GRID||head.y<0||head.y>=GRID || snake.some(s=>s.x===head.x && s.y===head.y)){
    alive=false; return;
  }
  snake.unshift(head);
  if(head.x===food.x && head.y===food.y){
    score+=10; spawnFood();
  } else snake.pop();
}
function draw(){
  ctx.fillStyle="#111"; ctx.fillRect(0,0,canvas.width,canvas.height);
  ctx.fillStyle="red";
  ctx.fillRect(food.x*unit, food.y*unit, unit, unit);
  for(let i=0;i<snake.length;i++){
    const s = snake[i];
    if(i===0){
      ctx.drawImage(snakeHeadImg, s.x*unit, s.y*unit, unit, unit);
    } else {
      ctx.fillStyle="lime";
      ctx.fillRect(s.x*unit, s.y*unit, unit, unit);
    }
  }
  ctx.fillStyle="#fff";
  ctx.fillText(`Score: ${score}`, 10, 15);
}
function loop(){
  if(alive && !paused) update();
  draw();
  setTimeout(loop, 100);
}
reset();
loop();
</script>
</body>
</html>
